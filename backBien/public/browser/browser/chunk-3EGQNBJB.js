import{a as _e}from"./chunk-DCJRYGY5.js";import{a as ye}from"./chunk-JKGFMHHD.js";import{A as N,O as ve,P as T,S as O,a as ge,b as fe,y as be}from"./chunk-3GFDB6GM.js";import"./chunk-MYTICTMG.js";import{$b as h,Ad as le,Bb as o,Cb as a,Ce as xe,Db as _,Dd as me,De as he,H as G,Hb as F,Hd as de,Ic as H,Id as ue,Jb as b,Jc as q,Jd as pe,Kb as d,Kc as R,V as L,Vc as $,Wb as m,Xb as I,Ya as c,Yb as S,Zb as K,_ as U,ac as M,ad as J,bb as w,bc as C,bd as Q,ed as X,gd as Y,ha as u,hb as z,hc as j,hd as Z,ia as p,kd as ee,lb as x,ld as te,pd as ie,qd as ne,rd as ae,sb as l,ud as oe,xd as re,yd as ce,zd as se}from"./chunk-PZEA5EKP.js";import{a as D,b as W,e as ke}from"./chunk-EQDQRRRY.js";var v=ke(ye());var V=class s{constructor(t){this.http=t}baseUrl=`${X.apiUrl}/inventario-farmacia`;buscarInventarioFarmacia(t){let e=new J;return t.farmacia&&(e=e.set("farmacia",t.farmacia)),t.nombre&&(e=e.set("nombre",t.nombre)),t.codigoBarras&&(e=e.set("codigoBarras",t.codigoBarras)),t.categoria&&(e=e.set("categoria",t.categoria)),t.inapam!==""&&(e=e.set("inapam",t.inapam)),t.generico!==""&&(e=e.set("generico",t.generico)),t.sortBy&&(e=e.set("sortBy",t.sortBy)),t.sortDir&&(e=e.set("sortDir",t.sortDir)),this.http.get(`${this.baseUrl}/`,{params:e})}actualizarUno(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}actualizarMasivo(t,e){return this.http.put(`${this.baseUrl}/masivo/${t}`,e)}static \u0275fac=function(e){return new(e||s)(U(Q))};static \u0275prov=L({token:s,factory:s.\u0275fac,providedIn:"root"})};var Me=(s,t,e)=>({"bi-caret-up-fill":s,"bi-caret-down-fill":t,"bi-caret-up":e});function Se(s,t){if(s&1&&(o(0,"option",33),m(1),a()),s&2){let e=t.$implicit;l("value",e._id),c(),I(e.nombre)}}function we(s,t){if(s&1){let e=F();o(0,"button",34),b("click",function(){u(e);let i=d();return p(i.limpiarFiltro("nombre"))}),_(1,"fa-icon",35),a()}if(s&2){let e=d();c(),l("icon",e.faTimes)}}function Ie(s,t){if(s&1){let e=F();o(0,"button",34),b("click",function(){u(e);let i=d();return p(i.limpiarFiltro("codigoBarras"))}),_(1,"fa-icon",35),a()}if(s&2){let e=d();c(),l("icon",e.faTimes)}}function Ve(s,t){if(s&1){let e=F();o(0,"button",34),b("click",function(){u(e);let i=d();return p(i.limpiarFiltro("categoria"))}),_(1,"fa-icon",35),a()}if(s&2){let e=d();c(),l("icon",e.faTimes)}}function Ae(s,t){if(s&1){let e=F();o(0,"button",34),b("click",function(){u(e);let i=d();return p(i.limpiarFiltro("inapam"))}),_(1,"fa-icon",35),a()}if(s&2){let e=d();c(),l("icon",e.faTimes)}}function je(s,t){if(s&1){let e=F();o(0,"button",34),b("click",function(){u(e);let i=d();return p(i.limpiarFiltro("generico"))}),_(1,"fa-icon",35),a()}if(s&2){let e=d();c(),l("icon",e.faTimes)}}function Ne(s,t){if(s&1&&_(0,"fa-icon",61),s&2){let e=d(3);l("icon",e.faSpinner)}}function Te(s,t){if(s&1&&_(0,"fa-icon",35),s&2){let e=d(3);l("icon",e.faCheck)}}function Oe(s,t){if(s&1&&_(0,"fa-icon",35),s&2){let e=d(3);l("icon",e.faSave)}}function Pe(s,t){if(s&1){let e=F();o(0,"tr")(1,"td")(2,"input",47),C("ngModelChange",function(i){let r=u(e).$implicit;return M(r.seleccionado,i)||(r.seleccionado=i),p(i)}),a()(),o(3,"td",48)(4,"div",49),m(5),a(),o(6,"small",50),m(7),a()(),o(8,"td",51)(9,"input",52),C("ngModelChange",function(i){let r=u(e).$implicit;return M(r.ubicacionEnFarmacia,i)||(r.ubicacionEnFarmacia=i),p(i)}),a()(),o(10,"td"),m(11),a(),o(12,"td",38),m(13),a(),o(14,"td",38),m(15),a(),o(16,"td")(17,"input",53),C("ngModelChange",function(i){let r=u(e).$implicit;return M(r.existencia,i)||(r.existencia=i),p(i)}),a()(),o(18,"td")(19,"input",53),C("ngModelChange",function(i){let r=u(e).$implicit;return M(r.stockMin,i)||(r.stockMin=i),p(i)}),a()(),o(20,"td")(21,"input",53),C("ngModelChange",function(i){let r=u(e).$implicit;return M(r.stockMax,i)||(r.stockMax=i),p(i)}),a()(),o(22,"td")(23,"input",54),C("ngModelChange",function(i){let r=u(e).$implicit;return M(r.precioVenta,i)||(r.precioVenta=i),p(i)}),a()(),o(24,"td")(25,"div",55)(26,"button",56),b("click",function(){let i=u(e).$implicit,r=d(2);return p(r.habilitarEdicion(i._id))}),_(27,"fa-icon",35),a(),o(28,"button",57),b("click",function(){let i=u(e).$implicit,r=d(2);return p(r.guardarFila(i))}),x(29,Ne,1,1,"fa-icon",58)(30,Te,1,1,"fa-icon",59)(31,Oe,1,1,"fa-icon",59),a(),o(32,"button",60),b("click",function(){let i=u(e).$implicit,r=d(2);return p(r.cancelarEdicion(i))}),_(33,"fa-icon",35),a()()()()}if(s&2){let e=t.$implicit,n=d(2);c(2),h("ngModel",e.seleccionado),c(3),I(e.producto==null?null:e.producto.nombre),c(2),I((e.producto==null?null:e.producto.codigoBarras)||"\u2014"),c(2),l("disabled",!n.estadoEdicion[e._id]),h("ngModel",e.ubicacionEnFarmacia),c(2),I(e.producto==null?null:e.producto.categoria),c(2),S(" ",e.producto!=null&&e.producto.generico?"S\xED":"No"," "),c(2),S(" ",e.producto!=null&&e.producto.descuentoINAPAM?"S\xED":"No"," "),c(2),l("disabled",!n.estadoEdicion[e._id]),h("ngModel",e.existencia),c(2),l("disabled",!n.estadoEdicion[e._id]),h("ngModel",e.stockMin),c(2),l("disabled",!n.estadoEdicion[e._id]),h("ngModel",e.stockMax),c(2),l("disabled",!n.estadoEdicion[e._id]),h("ngModel",e.precioVenta),c(3),l("disabled",n.estadoEdicion[e._id]),c(),l("icon",n.faEdit),c(),l("disabled",n.estadoGuardado[e._id]==="guardando"||!n.estadoEdicion[e._id]),c(),l("ngIf",n.estadoGuardado[e._id]==="guardando"),c(),l("ngIf",n.estadoGuardado[e._id]==="exito"),c(),l("ngIf",!n.estadoGuardado[e._id]||n.estadoGuardado[e._id]==="idle"),c(),l("disabled",n.estadoGuardado[e._id]==="guardando"||!n.estadoEdicion[e._id]),c(),l("icon",n.faTimes)}}function Be(s,t){if(s&1){let e=F();o(0,"div",36)(1,"table",37)(2,"thead",38)(3,"tr",39)(4,"th"),m(5,"AJUSTE MASIVO"),a(),_(6,"th")(7,"th")(8,"th")(9,"th")(10,"th"),o(11,"th")(12,"input",40),C("ngModelChange",function(i){u(e);let r=d();return M(r.ajusteMasivo.existencia,i)||(r.ajusteMasivo.existencia=i),p(i)}),a()(),o(13,"th")(14,"input",40),C("ngModelChange",function(i){u(e);let r=d();return M(r.ajusteMasivo.stockMin,i)||(r.ajusteMasivo.stockMin=i),p(i)}),a()(),o(15,"th")(16,"input",40),C("ngModelChange",function(i){u(e);let r=d();return M(r.ajusteMasivo.stockMax,i)||(r.ajusteMasivo.stockMax=i),p(i)}),a()(),o(17,"th")(18,"button",41),b("click",function(){u(e);let i=d();return p(i.guardarAjusteMasivo())}),m(19),a()(),_(20,"th"),a(),o(21,"tr")(22,"th")(23,"input",42),b("change",function(i){u(e);let r=d();return p(r.seleccionarTodos(i))}),a()(),o(24,"th",43),b("click",function(){u(e);let i=d();return p(i.clickSortNombre())}),m(25," Nombre "),_(26,"i",44),a(),o(27,"th"),m(28,"Ubicaci\xF3n"),a(),o(29,"th"),m(30,"Categoria"),a(),o(31,"th"),m(32,"Gen\xE9rico"),a(),o(33,"th"),m(34,"INAPAM"),a(),o(35,"th",45),b("click",function(){u(e);let i=d();return p(i.clickSortExistencia())}),m(36," Existencia "),_(37,"i",44),a(),o(38,"th"),m(39,"Stock M\xEDn"),a(),o(40,"th"),m(41,"Stock M\xE1x"),a(),o(42,"th"),m(43,"Precio Venta"),a(),o(44,"th"),m(45,"Acciones"),a()()(),o(46,"tbody"),x(47,Pe,34,24,"tr",46),a()()()}if(s&2){let e=d();c(12),h("ngModel",e.ajusteMasivo.existencia),c(2),h("ngModel",e.ajusteMasivo.stockMin),c(2),h("ngModel",e.ajusteMasivo.stockMax),c(2),l("disabled",e.deshabilitarBotonAplicar||e.aplicandoCambiosMasivos),c(),S(" ",e.aplicandoCambiosMasivos?"Guardando\u2026":"Aplicar a todos"," "),c(7),l("ngClass",j(8,Me,e.sortBy==="nombre"&&e.sortDir==="asc",e.sortBy==="nombre"&&e.sortDir==="desc",e.sortBy!=="nombre")),c(11),l("ngClass",j(12,Me,e.sortBy==="existencia"&&e.sortDir==="asc",e.sortBy==="existencia"&&e.sortDir==="desc",e.sortBy!=="existencia")),c(10),l("ngForOf",e.inventarioPaginado)}}var Ce=class s{constructor(t,e,n,i){this.fb=t;this.inventarioService=e;this.farmaciaService=n;this.library=i;i.addIcons(N,T,O)}formFiltros;inventario=[];farmacias=[];ajusteMasivo={existencia:0,stockMax:0,stockMin:0};estadoEdicion={};paginaActual=1;tamanoPagina=15;faSpinner=T;faCheck=O;faSave=N;faEdit=be;faTimes=ve;estadoGuardado={};cargando=!1;aplicandoCambiosMasivos=!1;sortBy="existencia";sortDir="asc";ngOnInit(){this.formFiltros=this.fb.group({farmacia:[""],nombre:[""],codigoBarras:[""],categoria:[""],inapam:[""],generico:[""]}),this.cargarFarmacias()}cargarFarmacias(){this.farmaciaService.obtenerFarmacias().subscribe({next:t=>{if(this.farmacias=t,this.farmacias.length>0){let e=this.farmacias[0]._id;this.formFiltros.get("farmacia")?.setValue(e),this.buscar()}},error:()=>this.farmacias=[]})}buscar(){let t=this.formFiltros.value;if(!t.farmacia){v.default.fire({icon:"info",title:"Aviso",text:"Debes de seleccionar una farmacia.",timer:1600,timerProgressBar:!0,allowOutsideClick:!1,allowEscapeKey:!1});return}this.cargando=!0;let e=W(D({},t),{sortBy:this.sortBy,sortDir:this.sortDir});this.inventarioService.buscarInventarioFarmacia(e).subscribe({next:n=>{this.estadoEdicion={},console.log("inventario farma",n),this.inventario=n.map(i=>({_id:i._id,farmacia:i.farmacia,producto:i.producto,ubicacionEnFarmacia:i.ubicacionEnFarmacia,existencia:i.existencia,stockMax:i.stockMax,stockMin:i.stockMin,precioVenta:i.precioVenta,seleccionado:!1,copiaOriginal:{existencia:i.existencia,stockMax:i.stockMax,stockMin:i.stockMin,precioVenta:i.precioVenta,ubicacionEnFarmacia:i.ubicacionEnFarmacia}})),this.paginaActual=1,this.cargando=!1},error:n=>{console.error("Error al buscar inventario",n),this.inventario=[],this.cargando=!1}})}clickSortExistencia(){this.sortBy="existencia",this.sortDir=this.sortDir==="asc"?"desc":"asc",this.buscar()}clickSortNombre(){this.sortBy="nombre",this.sortDir=this.sortDir==="asc"?"desc":"asc",this.buscar()}seleccionarTodos(t){let e=t.target.checked;this.inventario.forEach(n=>n.seleccionado=e)}guardarAjusteMasivo(){let t=this.formFiltros.get("farmacia")?.value;if(!t)return;this.aplicandoCambiosMasivos=!0;let e=Number(this.ajusteMasivo.existencia),n=Number(this.ajusteMasivo.stockMax),i=Number(this.ajusteMasivo.stockMin),r=!isNaN(e),f=!isNaN(n),k=!isNaN(i),y=this.inventario.filter(g=>g.seleccionado&&(r&&g.existencia!==e||f&&g.stockMax!==n||k&&g.stockMin!==i));if(y.length===0){v.default.fire({icon:"info",title:"Aviso",text:"No hay productos seleccionados o no hay cambios para aplicar.",timer:1600,timerProgressBar:!0,allowOutsideClick:!1,allowEscapeKey:!1}),this.aplicandoCambiosMasivos=!1;return}let A=y.map(g=>{let E={id:g._id};return r&&(E.existencia=e),f&&(E.stockMax=n),k&&(E.stockMin=i),this.aplicandoCambiosMasivos=!1,E});v.default.fire({title:"Aplicando ajustes...",html:"Esto puede tardar unos segundos.",allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{v.default.showLoading()}}),this.inventarioService.actualizarMasivo(t,A).pipe(G(()=>{this.aplicandoCambiosMasivos=!1})).subscribe({next:()=>{v.default.close();for(let g of y)r&&e>0&&(g.existencia=e,g.copiaOriginal.existencia=e),f&&n>0&&(g.stockMax=n,g.copiaOriginal.stockMax=n),k&&i>0&&(g.stockMin=i,g.copiaOriginal.stockMin=i);this.ajusteMasivo.existencia=0,this.ajusteMasivo.stockMax=0,this.ajusteMasivo.stockMin=0,v.default.fire({icon:"success",title:"Actualizado",text:"Ajustes aplicados correctamente.",timer:1600,timerProgressBar:!0,allowOutsideClick:!1,allowEscapeKey:!1})},error:g=>{console.error("Error en ajuste masivo",g),v.default.close(),v.default.fire("Error","No se pudieron aplicar los ajustes.","error")}})}guardarFila(t){let e=t._id,n=[{campo:"existencia",valor:t.existencia},{campo:"stockMax",valor:t.stockMax},{campo:"stockMin",valor:t.stockMin},{campo:"precioVenta",valor:t.precioVenta},{campo:"ubicacionEnFarmacia",valor:t.ubicacionEnFarmacia}];for(let{campo:r,valor:f}of n)if(r!=="ubicacionEnFarmacia"){if(f==null||f===""){v.default.fire("Campo vac\xEDo",`El campo "${r}" es obligatorio.`,"warning");return}if(isNaN(f)||f<0){v.default.fire("Valor inv\xE1lido",`El campo "${r}" no puede ser negativo.`,"warning");return}}if(t.stockMin>t.stockMax){v.default.fire({icon:"warning",title:"Stock m\xEDnimo inv\xE1lido",text:"El stock m\xEDnimo no puede ser mayor que el stock m\xE1ximo."});return}if(t.existencia==null||isNaN(t.existencia)||!Number.isInteger(t.existencia)||t.existencia<0){v.default.fire("Valor inv\xE1lido","La existencia debe ser un n\xFAmero entero y no negativo.","warning");return}if(t.precioVenta==null||isNaN(t.precioVenta)||t.precioVenta<=0||!/^\d+(\.\d{1,2})?$/.test(t.precioVenta.toString())){v.default.fire("Valor inv\xE1lido","El precio de venta debe ser un n\xFAmero positivo con hasta 2 decimales.","warning");return}if(!(t.existencia!==t.copiaOriginal.existencia||t.stockMax!==t.copiaOriginal.stockMax||t.stockMin!==t.copiaOriginal.stockMin||t.precioVenta!==t.copiaOriginal.precioVenta||t.ubicacionEnFarmacia!==t.copiaOriginal.ubicacionEnFarmacia)){v.default.fire({icon:"info",title:"Sin cambios",text:"No se detectaron cambios en este producto."});return}this.estadoGuardado[e]="guardando",this.inventarioService.actualizarUno(e,{existencia:t.existencia,stockMax:t.stockMax,stockMin:t.stockMin,precioVenta:t.precioVenta,ubicacionEnFarmacia:t.ubicacionEnFarmacia}).subscribe({next:()=>{t.copiaOriginal={existencia:t.existencia,stockMax:t.stockMax,stockMin:t.stockMin,precioVenta:t.precioVenta,ubicacionEnFarmacia:t.ubicacionEnFarmacia},this.estadoGuardado[e]="exito",setTimeout(()=>{this.estadoGuardado[e]="idle"},1500),v.default.fire({icon:"success",title:"\xC9xito",text:"El producto fue actualizado correctamente.",timer:1600,timerProgressBar:!0,allowOutsideClick:!1,allowEscapeKey:!1}),this.buscar(),this.estadoEdicion[t._id]=!1},error:r=>{console.error("Error al guardar fila:",r),this.estadoGuardado[e]="idle",v.default.fire({icon:"error",title:"Error",text:"No se pudo guardar el producto."})}})}get nombreFarmaciaSeleccionada(){let t=this.formFiltros.get("farmacia")?.value;return this.farmacias.find(n=>n._id===t)?.nombre||"Farmacia"}get totalPaginas(){return Math.ceil(this.inventario.length/this.tamanoPagina)}get inventarioPaginado(){let t=(this.paginaActual-1)*this.tamanoPagina;return this.inventario.slice(t,t+this.tamanoPagina)}paginaAnterior(){this.paginaActual>1&&this.paginaActual--}paginaSiguiente(){this.paginaActual<this.totalPaginas&&this.paginaActual++}irAPrimera(){this.paginaActual=1}irAUltima(){this.paginaActual=this.totalPaginas}sePuedeGuardar(t){if(!t||!t.copiaOriginal)return!1;let e=t.existencia!==t.copiaOriginal.existencia||t.stockMax!==t.copiaOriginal.stockMax||t.stockMin!==t.copiaOriginal.stockMin||t.ubicacionEnFarmacia!==t.copiaOriginal.ubicacionEnFarmacia||t.precioVenta!==t.copiaOriginal.precioVenta,n=t.existencia>=0&&t.stockMax>=0&&t.stockMin>=0&&t.precioVenta>=0;return e&&n}get deshabilitarBotonAplicar(){let{existencia:t,stockMax:e,stockMin:n}=this.ajusteMasivo,i=Number(t),r=Number(e),f=Number(n),k=!isNaN(i),y=!isNaN(r),A=!isNaN(f),g=y&&Number.isInteger(r)&&r>0,E=A&&Number.isInteger(f)&&f>0,P=k&&Number.isInteger(i)&&i>0,B=g&&E?f<=r:!0;return!(P&&r<=0&&f<=0||g&&E&&B||P&&g&&E&&B)}habilitarEdicion(t){this.estadoEdicion[t]=!0}cancelarEdicion(t){t.existencia=t.copiaOriginal.existencia,t.stockMax=t.copiaOriginal.stockMax,t.stockMin=t.copiaOriginal.stockMin,t.precioVenta=t.copiaOriginal.precioVenta,t.ubicacionEnFarmacia=t.copiaOriginal.ubicacionEnFarmacia,this.estadoEdicion[t._id]=!1,this.estadoGuardado[t._id]="idle"}limpiarFiltro(t){this.formFiltros.get(t)?.setValue(""),this.buscar()}static \u0275fac=function(e){return new(e||s)(w(de),w(V),w(_e),w(ge))};static \u0275cmp=z({type:s,selectors:[["app-ajustes-inventario-farmacia"]],decls:68,vars:18,consts:[[1,"titulo-container"],[1,"titulo"],[1,"filter-container",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-2"],["formControlName","farmacia","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"me-2","mb-0",2,"white-space","nowrap"],[1,"position-relative"],["type","text","formControlName","nombre",1,"form-control","pe-4","flex-grow-1"],["type","button","class","btn-icon-chico btn-sm btn-light position-absolute top-50 end-0 translate-middle-y btn-rojo-chico",3,"click",4,"ngIf"],["type","text","formControlName","codigoBarras",1,"form-control","pe-4","flex-grow-1"],["type","text","formControlName","categoria",1,"form-control","pe-4","flex-grow-1"],[1,"col-md-1"],["formControlName","inapam",1,"form-control","pe-4","flex-grow-1"],["value",""],["value","true"],["value","false"],["formControlName","generico",1,"form-control","pe-4","flex-grow-1"],[1,"col-md-1","text-end","mt-3"],["type","submit",1,"btn-gris",3,"disabled"],["class","mt-3",4,"ngIf"],[1,"paginacion"],["matTooltip","Primera p\xE1gina",3,"click","disabled"],[1,"fa","fa-angle-double-left"],["matTooltip","Anterior",3,"click","disabled"],[1,"fa","fa-angle-left"],[1,"total-registros"],["matTooltip","Siguiente",3,"click","disabled"],[1,"fa","fa-angle-right"],["matTooltip","\xDAltima p\xE1gina",3,"click","disabled"],[1,"fa","fa-angle-double-right"],[3,"value"],["type","button",1,"btn-icon-chico","btn-sm","btn-light","position-absolute","top-50","end-0","translate-middle-y","btn-rojo-chico",3,"click"],[3,"icon"],[1,"mt-3"],[1,"tabla"],[1,"text-center"],[2,"color","blue"],["type","number",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"btn-verde-chico",3,"click","disabled"],["type","checkbox",3,"change"],["title","Ordenar por nombre",1,"th-sort",3,"click"],[1,"bi",2,"margin-left",".25rem",3,"ngClass"],["title","Ordenar por existencia",1,"th-sort","text-center",3,"click"],[4,"ngFor","ngForOf"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"nombre-cell"],[1,"nombre-text"],[1,"codigo-mini"],[1,"col-ubicacion"],["type","text",1,"form-control","form-control-sm","w-100",3,"ngModelChange","disabled","ngModel"],["type","number",1,"form-control","form-control-sm",3,"ngModelChange","disabled","ngModel"],["type","number","step","0.1",1,"form-control","form-control-sm",3,"ngModelChange","disabled","ngModel"],[1,"d-flex","justify-content-center"],["matTooltip","Editar rengl\xF3n",1,"btn-icon-chico","btn-gris-chico",3,"click","disabled"],["matTooltip","Guardar",1,"btn-icon-chico","btn-verde-chico",3,"click","disabled"],["class","fa-spin",3,"icon",4,"ngIf"],[3,"icon",4,"ngIf"],["matTooltip","Cancelar",1,"btn-icon-chico","btn-rojo-chico",3,"click","disabled"],[1,"fa-spin",3,"icon"]],template:function(e,n){if(e&1&&(o(0,"div",0)(1,"h1",1),m(2),a()(),o(3,"form",2),b("ngSubmit",function(){return n.buscar()}),o(4,"div",3)(5,"div",4)(6,"label"),m(7,"Farmacia"),a(),o(8,"select",5),x(9,Se,2,2,"option",6),a()(),o(10,"div",7)(11,"label",8),m(12,"Nombre"),a(),o(13,"div",9),_(14,"input",10),x(15,we,2,1,"button",11),a()(),o(16,"div",4)(17,"label",8),m(18,"C\xF3digo de Barras"),a(),o(19,"div",9),_(20,"input",12),x(21,Ie,2,1,"button",11),a()(),o(22,"div",4)(23,"label",8),m(24,"Categor\xEDa"),a(),o(25,"div",9),_(26,"input",13),x(27,Ve,2,1,"button",11),a()(),o(28,"div",14)(29,"label",8),m(30,"INAPAM"),a(),o(31,"div",9)(32,"select",15)(33,"option",16),m(34,"--"),a(),o(35,"option",17),m(36,"S\xED"),a(),o(37,"option",18),m(38,"No"),a()(),x(39,Ae,2,1,"button",11),a()(),o(40,"div",14)(41,"label",8),m(42,"Gen\xE9rico?"),a(),o(43,"div",9)(44,"select",19)(45,"option",16),m(46,"--"),a(),o(47,"option",17),m(48,"S\xED"),a(),o(49,"option",18),m(50,"No"),a()(),x(51,je,2,1,"button",11),a()(),o(52,"div",20)(53,"button",21),m(54),a()()()(),x(55,Be,48,16,"div",22),o(56,"div",23)(57,"button",24),b("click",function(){return n.irAPrimera()}),_(58,"i",25),a(),o(59,"button",26),b("click",function(){return n.paginaAnterior()}),_(60,"i",27),a(),m(61),o(62,"span",28),m(63),a(),o(64,"button",29),b("click",function(){return n.paginaSiguiente()}),_(65,"i",30),a(),o(66,"button",31),b("click",function(){return n.irAUltima()}),_(67,"i",32),a()()),e&2){let i,r,f,k,y;c(2),S("Ajustes de Inventario en ",n.nombreFarmaciaSeleccionada,""),c(),l("formGroup",n.formFiltros),c(6),l("ngForOf",n.farmacias),c(6),l("ngIf",(i=n.formFiltros.get("nombre"))==null?null:i.value),c(6),l("ngIf",(r=n.formFiltros.get("codigoBarras"))==null?null:r.value),c(6),l("ngIf",(f=n.formFiltros.get("categoria"))==null?null:f.value),c(12),l("ngIf",((k=n.formFiltros.get("inapam"))==null?null:k.value)!==""),c(12),l("ngIf",((y=n.formFiltros.get("generico"))==null?null:y.value)!==""),c(2),l("disabled",n.cargando),c(),S(" ",n.cargando?"Cargando\u2026":"Buscar",""),c(),l("ngIf",n.inventario.length>0),c(2),l("disabled",n.paginaActual===1),c(2),l("disabled",n.paginaActual===1),c(2),K(" P\xE1gina ",n.paginaActual," de ",n.totalPaginas," "),c(2),S("(",n.inventario.length," productos)"),c(),l("disabled",n.paginaActual===n.totalPaginas),c(2),l("disabled",n.paginaActual===n.totalPaginas)}},dependencies:[$,H,q,R,ue,ne,se,le,Z,ae,Y,ce,ee,te,me,ie,pe,oe,re,fe,he,xe],styles:[".filter-container[_ngcontent-%COMP%]{border-bottom:2px solid #0453b3;padding-bottom:1rem}.th-sort[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.nombre-cell[_ngcontent-%COMP%]   .nombre-text[_ngcontent-%COMP%]{font-weight:600;line-height:1.2}.nombre-cell[_ngcontent-%COMP%]   .codigo-mini[_ngcontent-%COMP%]{display:block;font-size:11px;color:#6c757d;margin-top:2px}th.col-ubicacion[_ngcontent-%COMP%], td.col-ubicacion[_ngcontent-%COMP%]{min-width:220px;width:260px}.col-ubicacion[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}"]})};export{Ce as AjustesInventarioFarmaciaComponent};
