import{A as De,B as $e,C as ke,D as z,E as N,F as O,G as We,g as ge,h as xe,i as fe,k as he,m as be,n as Ce,o as Se,p as Ee,q as ye,r as Ie,s as k,t as Te,u as Re,v as Pe,w as Me,x as Be,y as Fe,z as Ve}from"./chunk-CJCCQDPL.js";import{e as Oe}from"./chunk-BA3JPKMX.js";import{V as ve,W as we}from"./chunk-MIQLH5Q4.js";import{$a as Q,$b as C,$d as ue,Ab as v,Ac as X,Ad as ce,Bb as p,Bc as Z,Cc as ee,Dc as te,Gb as B,Hb as F,Ib as V,Lb as I,Ld as me,Mb as i,Md as pe,Nb as g,Ob as m,Pd as se,Qa as o,Rb as T,Sb as R,Sc as ne,Tb as P,Ua as L,Vb as U,Vc as ie,Wb as $,Yb as j,_b as c,_c as ae,a as H,ac as u,ae as _e,bc as A,cc as M,db as h,fc as q,jb as G,kb as _,lb as D,na as x,oa as f,od as oe,rd as re,sb as t,tb as n,ub as w,uc as K,ud as le,vb as S,vc as Y,vd as de,wb as E,wc as J,yb as y}from"./chunk-6RHC2QAT.js";var Ae=["filtroInput"],ze=["nombreNuevoRef"],Ne=()=>["detail"],He=()=>[10,20,50,100],je=(r,l)=>({"text-success":r,"text-danger":l}),Qe=()=>[];function Ge(r,l){if(r&1){let e=y();t(0,"button",43),v("click",function(){x(e);let d=p();return f(d.limpiarFiltro())}),w(1,"fa-icon",44),n()}if(r&2){let e=p();_("disabled",e.cargando),o(),_("icon",e.faTimes)}}function Ue(r,l){if(r&1){let e=y();S(0),t(1,"button",45),v("click",function(){x(e);let d=p();return f(d.empezarAgregar())}),w(2,"fa-icon",44),i(3," Agregar "),n(),E()}if(r&2){let e=p();o(),_("disabled",e.cargando),o(),_("icon",e.faPlus)}}function qe(r,l){if(r&1){let e=y();t(0,"button",46),v("click",function(){x(e);let d=p();return f(d.cancelarAgregar())}),w(1,"fa-icon",44),n(),t(2,"button",47),v("click",function(){x(e);let d=p();return f(d.agregarCliente())}),t(3,"mat-icon"),i(4,"save"),n()()}if(r&2){let e=p();_("disabled",e.cargando),o(),_("icon",e.faTimes),o(),_("disabled",!e.validoNuevo()||e.cargando)}}function Ke(r,l){r&1&&(t(0,"th",48),i(1,"Nombre"),n())}function Ye(r,l){if(r&1&&(S(0),i(1),E()),r&2){let e=p().$implicit;o(),m(" ",e.nombre," ")}}function Je(r,l){if(r&1){let e=y();t(0,"input",50),P("ngModelChange",function(d){x(e);let s=p().$implicit;return R(s.nombre,d)||(s.nombre=d),f(d)}),n()}if(r&2){let e=p().$implicit;T("ngModel",e.nombre)}}function Xe(r,l){if(r&1&&(t(0,"td",49),h(1,Ye,2,1,"ng-container",27)(2,Je,1,1,"ng-template",null,3,M),n()),r&2){let e=l.$implicit,a=I(3),d=p();o(),_("ngIf",d.editandoId!==e._id)("ngIfElse",a)}}function Ze(r,l){r&1&&(t(0,"th",48),i(1,"Tel\xE9fono"),n())}function et(r,l){if(r&1&&(S(0),i(1),E()),r&2){let e=p().$implicit;o(),m(" ",e.telefono," ")}}function tt(r,l){if(r&1){let e=y();t(0,"input",50),P("ngModelChange",function(d){x(e);let s=p().$implicit;return R(s.telefono,d)||(s.telefono=d),f(d)}),n()}if(r&2){let e=p().$implicit;T("ngModel",e.telefono)}}function nt(r,l){if(r&1&&(t(0,"td",49),h(1,et,2,1,"ng-container",27)(2,tt,1,1,"ng-template",null,4,M),n()),r&2){let e=l.$implicit,a=I(3),d=p();o(),_("ngIf",d.editandoId!==e._id)("ngIfElse",a)}}function it(r,l){r&1&&(t(0,"th",48),i(1,"Email"),n())}function at(r,l){if(r&1&&(S(0),i(1),E()),r&2){let e=p().$implicit;o(),m(" ",e.email," ")}}function ot(r,l){if(r&1){let e=y();t(0,"input",50),P("ngModelChange",function(d){x(e);let s=p().$implicit;return R(s.email,d)||(s.email=d),f(d)}),n()}if(r&2){let e=p().$implicit;T("ngModel",e.email)}}function rt(r,l){if(r&1&&(t(0,"td",49),h(1,at,2,1,"ng-container",27)(2,ot,1,1,"ng-template",null,5,M),n()),r&2){let e=l.$implicit,a=I(3),d=p();o(),_("ngIf",d.editandoId!==e._id)("ngIfElse",a)}}function lt(r,l){r&1&&(t(0,"th",48),i(1,"Domicilio"),n())}function dt(r,l){if(r&1&&(S(0),i(1),E()),r&2){let e=p().$implicit;o(),m(" ",e.domicilio," ")}}function ct(r,l){if(r&1){let e=y();t(0,"input",50),P("ngModelChange",function(d){x(e);let s=p().$implicit;return R(s.domicilio,d)||(s.domicilio=d),f(d)}),n()}if(r&2){let e=p().$implicit;T("ngModel",e.domicilio)}}function mt(r,l){if(r&1&&(t(0,"td",49),h(1,dt,2,1,"ng-container",27)(2,ct,1,1,"ng-template",null,6,M),n()),r&2){let e=l.$implicit,a=I(3),d=p();o(),_("ngIf",d.editandoId!==e._id)("ngIfElse",a)}}function pt(r,l){r&1&&(t(0,"th",48),i(1,"Monedero"),n())}function st(r,l){if(r&1&&(t(0,"td",49),i(1),c(2,"number"),n()),r&2){let e=l.$implicit;o(),m(" $",u(2,1,e.totalMonedero,"1.2-2")," ")}}function ut(r,l){r&1&&(t(0,"th",48),i(1,"Acciones"),n())}function _t(r,l){if(r&1){let e=y();S(0),t(1,"button",51),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.toggleSubtabla(d,"ventas"))}),w(2,"fa-icon",44),n(),t(3,"button",52),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.toggleSubtabla(d,"pedidos"))}),w(4,"fa-icon",44),n(),t(5,"button",53),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.toggleSubtabla(d,"devoluciones"))}),w(6,"fa-icon",44),n(),t(7,"button",54),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.toggleSubtabla(d,"cancelaciones"))}),w(8,"i",55),n(),t(9,"button",56),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.toggleSubtabla(d,"monedero"))}),w(10,"i",57),n(),t(11,"button",58),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.iniciarEdicion(d))}),w(12,"i",59),n(),E()}r&2&&(o(2),_("icon","cash-register"),o(2),_("icon","shopping-cart"),o(2),_("icon","undo"))}function gt(r,l){if(r&1){let e=y();t(0,"button",60),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.guardarEdicion(d))}),w(1,"fa-icon",44),n(),t(2,"button",61),v("click",function(){x(e);let d=p().$implicit,s=p();return f(s.cancelarEdicion(d))}),w(3,"fa-icon",44),n()}if(r&2){let e=p(2);o(),_("icon",e.faSave),o(2),_("icon",e.faTimes)}}function xt(r,l){if(r&1&&(t(0,"td",49),h(1,_t,13,3,"ng-container",27)(2,gt,4,2,"ng-template",null,2,M),n()),r&2){let e=l.$implicit,a=I(3),d=p();o(),_("ngIf",d.editandoId!==e._id)("ngIfElse",a)}}function ft(r,l){if(r&1&&(t(0,"div",87),i(1),n()),r&2){let e=p().$implicit;o(),m(" CB: ",e.codigoBarras||(e.producto==null?null:e.producto.codigoBarras)," ")}}function ht(r,l){if(r&1&&(t(0,"tr")(1,"td"),i(2),h(3,ft,2,1,"div",86),n(),t(4,"td",68),i(5),c(6,"number"),n(),t(7,"td",68),i(8),c(9,"number"),n(),t(10,"td",68),i(11),c(12,"number"),n(),t(13,"td"),i(14),n(),t(15,"td",68),i(16),c(17,"number"),n(),t(18,"td",68),i(19),c(20,"number"),n(),t(21,"td",68),i(22),c(23,"number"),n(),t(24,"td",68),i(25),c(26,"number"),n(),t(27,"td",68),i(28),c(29,"number"),n(),t(30,"td",68),i(31),c(32,"number"),n(),t(33,"td",68),i(34),c(35,"number"),n()()),r&2){let e=l.$implicit;o(2),m(" ",e.nombre||(e.producto==null?null:e.producto.nombre)||""," "),o(),_("ngIf",e.codigoBarras||(e.producto==null?null:e.producto.codigoBarras)),o(2),g(C(6,13,e.cantidad)),o(3),m("$",u(9,15,e.precio,"1.2-2"),""),o(3),m("$",u(12,18,e.precio,"1.2-2"),""),o(3),g(e.tipoDescuento||"Cliente"),o(2),m(" ",e.descuento?u(17,21,100*(e.descuento/(e.precio||1)),"1.0-0")+"%":"\u2014"," "),o(3),m("$",u(20,24,e.monederoCliente||0,"1.2-2"),""),o(3),m("$",u(23,27,e.descuento||0,"1.2-2"),""),o(3),m("$",u(26,30,e.costo||0,"1.2-2")," "),o(3),m(" $",u(29,33,(e.totalRen||0)-(e.costo||0),"1.2-2")," "),o(3),m(" ",(e.costo||0)>0?u(32,36,((e.totalRen||0)-(e.costo||0))/(e.costo||1)*100,"1.0-2")+"%":"\u2014"," "),o(3),m("$",u(35,39,e.totalRen,"1.2-2"),"")}}function bt(r,l){if(r&1&&(t(0,"tr",77)(1,"td",78)(2,"div",79)(3,"table",80)(4,"thead")(5,"tr")(6,"th"),i(7,"Producto"),n(),t(8,"th",68),i(9,"Cant."),n(),t(10,"th",68),i(11,"P. U."),n(),t(12,"th",68),i(13,"Imp. normal"),n(),t(14,"th"),i(15,"Promo"),n(),t(16,"th",68),i(17,"% desc"),n(),t(18,"th",68),i(19,"Monedero"),n(),t(20,"th",68),i(21,"Desc."),n(),t(22,"th",68),i(23,"Costo"),n(),t(24,"th",68),i(25,"Utilidad"),n(),t(26,"th",68),i(27,"% Gan."),n(),t(28,"th",68),i(29,"Total"),n()()(),t(30,"tbody"),h(31,ht,36,42,"tr",81),n()(),t(32,"div",82)(33,"span",83),i(34,"Forma de pago:"),n(),t(35,"span",84),i(36,"Efectivo:"),n(),t(37,"span",85),i(38),c(39,"number"),n(),t(40,"span",84),i(41,"Tarjeta:"),n(),t(42,"span",85),i(43),c(44,"number"),n(),t(45,"span",84),i(46,"Transferencia:"),n(),t(47,"span",85),i(48),c(49,"number"),n(),t(50,"span",84),i(51,"Monedero:"),n(),t(52,"span",85),i(53),c(54,"number"),n()()()()()),r&2){let e=p().$implicit;o(31),_("ngForOf",e.productos||$(17,Qe)),o(7),m("$",u(39,5,(e.formaPago==null?null:e.formaPago.efectivo)||0,"1.2-2"),""),o(5),m("$",u(44,8,(e.formaPago==null?null:e.formaPago.tarjeta)||0,"1.2-2"),""),o(5),m("$",u(49,11,(e.formaPago==null?null:e.formaPago.transferencia)||0,"1.2-2"),""),o(5),m("$",u(54,14,(e.formaPago==null?null:e.formaPago.vale)||0,"1.2-2"),"")}}function Ct(r,l){if(r&1){let e=y();S(0),t(1,"tr")(2,"td",67)(3,"button",70),v("click",function(){let d=x(e).$implicit,s=p(4);return f(s.toggleDetalleVenta(d,s.expandedRow))}),t(4,"span"),i(5,"\u25B8"),n()()(),t(6,"td"),i(7),n(),t(8,"td"),i(9),n(),t(10,"td"),i(11),c(12,"date"),n(),t(13,"td"),i(14),n(),t(15,"td",68),i(16),c(17,"number"),n(),t(18,"td",71),i(19),c(20,"number"),n(),t(21,"td",72),i(22),c(23,"number"),n(),t(24,"td",73),i(25),c(26,"number"),n(),t(27,"td",74),i(28),c(29,"number"),n(),t(30,"td",68),i(31),c(32,"number"),n(),t(33,"td",75),i(34),c(35,"number"),n()(),h(36,bt,55,18,"tr",76),E()}if(r&2){let e=l.$implicit,a=p(4);o(4),D("open",a.subVentaOpen[a.expandedRow]===e._id),o(3),g(e.farmaciaNombre),o(2),g(e.usuarioNombre),o(2),g(u(12,15,e.fecha,"dd/MM/yyyy HH:mm")||""),o(3),g(e.folio),o(2),g(C(17,18,e.numProductos)),o(3),m("$",u(20,20,e.alMonedero,"1.2-2"),""),o(3),m("$",u(23,23,e.descuento,"1.2-2"),""),o(3),m("$",u(26,26,e.costo,"1.2-2"),""),o(2),_("ngClass",j(38,je,(e.utilidad||0)>=0,(e.utilidad||0)<0)),o(),m(" $",u(29,29,e.utilidad,"1.2-2")," "),o(3),m(" ",e.gananciaPct==null?"\u2014":u(32,32,e.gananciaPct,"1.0-2")+"%"," "),o(3),m("$",u(35,35,e.total,"1.2-2"),""),o(2),_("ngIf",a.subVentaOpen[a.expandedRow]===e._id)}}function St(r,l){if(r&1&&(t(0,"tfoot")(1,"tr"),w(2,"th",67),t(3,"th",88),i(4,"Totales:"),n(),w(5,"th"),t(6,"th",68),i(7),c(8,"number"),n(),t(9,"th",71),i(10),c(11,"number"),n(),t(12,"th",72),i(13),c(14,"number"),n(),t(15,"th",73),i(16),c(17,"number"),n(),t(18,"th",74),i(19),c(20,"number"),n(),w(21,"th"),t(22,"th",75),i(23),c(24,"number"),n()()()),r&2){let e=p(4);o(7),g(C(8,7,e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].numProductos)),o(3),m("$",u(11,9,e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].alMonedero,"1.2-2"),""),o(3),m("$",u(14,12,e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].descuento,"1.2-2"),""),o(3),m("$",u(17,15,e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].costo,"1.2-2"),""),o(2),_("ngClass",j(24,je,((e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].utilidad)||0)>=0,((e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].utilidad)||0)<0)),o(),m(" $",u(20,18,e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].utilidad,"1.2-2")," "),o(4),m("$",u(24,21,e.subFooter[e.expandedRow]==null?null:e.subFooter[e.expandedRow].total,"1.2-2")," ")}}function Et(r,l){if(r&1&&(S(0),t(1,"div",64),i(2),n(),t(3,"div",65)(4,"table",66)(5,"thead")(6,"tr")(7,"th",67),i(8,"Det."),n(),t(9,"th"),i(10,"Farmacia"),n(),t(11,"th"),i(12,"Usuario"),n(),t(13,"th"),i(14,"Fecha"),n(),t(15,"th"),i(16,"Folio"),n(),t(17,"th",68),i(18,"# Prod."),n(),t(19,"th",68),i(20,"Al moned."),n(),t(21,"th",68),i(22,"Descuento"),n(),t(23,"th",68),i(24,"Costo"),n(),t(25,"th",68),i(26,"Utilidad"),n(),t(27,"th",68),i(28,"% Gan."),n(),t(29,"th",68),i(30,"Total"),n()()(),t(31,"tbody"),h(32,Ct,37,41,"ng-container",69),n(),h(33,St,25,27,"tfoot",62),n()(),E()),r&2){let e=p(2).$implicit,a=p();o(2),m("Compras de: ",e.nombre,""),o(30),_("ngForOf",a.subRows[a.expandedRow])("ngForTrackBy",a.trackVentaBy),o(),_("ngIf",a.subFooter[a.expandedRow])}}function vt(r,l){if(r&1&&(S(0),h(1,Et,34,4,"ng-container",27),E()),r&2){let e;p();let a=I(5),d=p();o(),_("ngIf",((e=d.subRows[d.expandedRow]==null?null:d.subRows[d.expandedRow].length)!==null&&e!==void 0?e:0)>0)("ngIfElse",a)}}function wt(r,l){if(r&1&&(t(0,"tr",77)(1,"td",89)(2,"div",79)(3,"table",80)(4,"thead")(5,"tr")(6,"th",90),i(7),n(),t(8,"th",90),i(9),c(10,"currency"),n()()(),t(11,"tbody")(12,"tr")(13,"td",91),i(14),c(15,"currency"),n(),t(16,"td",91),i(17),c(18,"currency"),n()(),t(19,"tr")(20,"td"),i(21,"Efectivo:"),n(),t(22,"td"),i(23),c(24,"currency"),n(),t(25,"td"),i(26,"Efectivo:"),n(),t(27,"td"),i(28),c(29,"currency"),n()(),t(30,"tr")(31,"td"),i(32,"Tarjeta:"),n(),t(33,"td"),i(34),c(35,"currency"),n(),t(36,"td"),i(37,"Tarjeta:"),n(),t(38,"td"),i(39),c(40,"currency"),n()(),t(41,"tr")(42,"td"),i(43,"Transferencia:"),n(),t(44,"td"),i(45),c(46,"currency"),n(),t(47,"td"),i(48,"Transferencia:"),n(),t(49,"td"),i(50),c(51,"currency"),n()(),t(52,"tr")(53,"td"),i(54,"Monedero:"),n(),t(55,"td"),i(56),c(57,"currency"),n(),t(58,"td"),i(59,"Monedero"),n(),t(60,"td"),i(61),c(62,"currency"),n()(),t(63,"tr")(64,"td",92),i(65,"Levant\xF3:"),n(),t(66,"td",90),i(67),n(),t(68,"td",92),i(69),c(70,"date"),n()()()(),t(71,"div",82)(72,"span",83),i(73," Forma de pago: "),n(),t(74,"span",84),i(75,"Efectivo:"),n(),t(76,"span",85),i(77),c(78,"number"),n(),t(79,"span",84),i(80,"Tarjeta:"),n(),t(81,"span",85),i(82),c(83,"number"),n(),t(84,"span",84),i(85,"Transferencia:"),n(),t(86,"span",85),i(87),c(88,"number"),n(),t(89,"span",84),i(90,"Monedero:"),n(),t(91,"span",85),i(92),c(93,"number"),n()()()()()),r&2){let e=p().$implicit;o(7),m("Estado: ",e.estado,""),o(2),m("Precio: ",C(10,18,e.precio),""),o(5),m("Anticipo: ",C(15,20,e.aCuenta),""),o(3),m("Resta: ",C(18,22,e.resta),""),o(6),g(C(24,24,e.formasPago.anticipo.efectivo)),o(5),g(C(29,26,e.formasPago.resta.efectivo)),o(6),g(C(35,28,e.formasPago.anticipo.tarjeta)),o(5),g(C(40,30,e.formasPago.resta.tarjeta)),o(6),g(C(46,32,e.formasPago.anticipo.transferencia)),o(5),g(C(51,34,e.formasPago.resta.transferencia)),o(6),g(C(57,36,e.formasPago.anticipo.vale)),o(5),g(C(62,38,e.formasPago.resta.vale)),o(6),g(e.usuarioPidio),o(2),m("",A(70,40,e.fechaPedido,"dd/MM/yyyy","America/Mexico_City")," "),o(8),m("$",u(78,44,e.formasPago.anticipo.efectivo+e.formasPago.resta.efectivo||0,"1.2-2"),""),o(5),m("$",u(83,47,e.formasPago.anticipo.tarjeta+e.formasPago.resta.tarjeta||0,"1.2-2"),""),o(5),m("$",u(88,50,e.formasPago.anticipo.transferencia+e.formasPago.resta.transferencia||0,"1.2-2"),""),o(5),m("$",u(93,53,e.formasPago.anticipo.vale+e.formasPago.resta.vale||0,"1.2-2"),"")}}function yt(r,l){if(r&1){let e=y();S(0),t(1,"tr")(2,"td",67)(3,"button",70),v("click",function(){let d=x(e).$implicit,s=p(4);return f(s.toggleDetallePedido(d,s.expandedRow))}),t(4,"span"),i(5,"\u25B8"),n()()(),t(6,"td"),i(7),n(),t(8,"td"),i(9),n(),t(10,"td"),i(11),c(12,"date"),n(),t(13,"td"),i(14),n(),t(15,"td"),i(16),n(),t(17,"td",68),i(18),c(19,"number"),n(),t(20,"td",68),i(21),c(22,"number"),n(),t(23,"td",71),i(24),c(25,"number"),n(),t(26,"td",73),i(27),c(28,"number"),n(),t(29,"td",73),i(30),c(31,"number"),n(),t(32,"td",73),i(33),c(34,"number"),n(),t(35,"td",73),i(36),c(37,"number"),n()(),h(38,wt,94,56,"tr",76),E()}if(r&2){let e=l.$implicit,a=p(4);o(4),D("open",a.subPedidoOpen[a.expandedRow]===e._id),o(3),g(e.farmacia),o(2),g(e.folio),o(2),g(u(12,15,e.fechaPedido,"dd/MM/yyyy HH:mm")||""),o(3),g(e.descripcion),o(2),g(e.estado),o(2),m("$",u(19,18,e.costo,"1.2-2"),""),o(3),m("$",u(22,21,e.precio,"1.2-2"),""),o(3),m("$",u(25,24,e.aCuenta,"1.2-2"),""),o(3),m("$",u(28,27,e.resta,"1.2-2"),""),o(3),m("$",u(31,30,e.precio-e.resta,"1.2-2")," "),o(3),m("$",u(34,33,e.precio-e.resta-e.costo,"1.2-2"),""),o(3),m(" ",e.costo>0?u(37,36,(e.precio-e.resta-e.costo)/e.costo*100,"1.0-2")+"%":"100%"," "),o(2),_("ngIf",a.subPedidoOpen[a.expandedRow]===e._id)}}function It(r,l){if(r&1&&(S(0),t(1,"div",64),i(2),n(),t(3,"div",65)(4,"table",66)(5,"thead")(6,"tr")(7,"th"),i(8,"Det."),n(),t(9,"th"),i(10,"Farmacia"),n(),t(11,"th"),i(12,"Folio"),n(),t(13,"th"),i(14,"F. pedido"),n(),t(15,"th"),i(16,"Descripci\xF3n"),n(),t(17,"th"),i(18,"Estado"),n(),t(19,"th"),i(20,"Costo"),n(),t(21,"th"),i(22,"Precio"),n(),t(23,"th"),i(24,"A cuenta"),n(),t(25,"th"),i(26,"Resta"),n(),t(27,"th"),i(28,"Tot. Ingreso"),n(),t(29,"th"),i(30,"Utilidad"),n(),t(31,"th"),i(32,"% Gan"),n()()(),t(33,"tbody"),h(34,yt,39,39,"ng-container",69),n()()(),E()),r&2){let e=p(2).$implicit,a=p();o(2),m("Pedidos de: ",e.nombre,""),o(32),_("ngForOf",a.subRows[a.expandedRow])("ngForTrackBy",a.trackPedidoBy)}}function Tt(r,l){if(r&1&&(S(0),h(1,It,35,3,"ng-container",27),E()),r&2){let e;p();let a=I(7),d=p();o(),_("ngIf",((e=d.subRows[d.expandedRow]==null?null:d.subRows[d.expandedRow].length)!==null&&e!==void 0?e:0)>0)("ngIfElse",a)}}function Rt(r,l){if(r&1&&(t(0,"tr",77)(1,"td",89)(2,"div",79)(3,"table",80)(4,"thead")(5,"tr")(6,"th",90),i(7),n(),t(8,"th",90),i(9),c(10,"currency"),n()()(),t(11,"tbody")(12,"tr")(13,"td",91),i(14),c(15,"currency"),n(),t(16,"td",91),i(17),c(18,"currency"),n()(),t(19,"tr")(20,"td"),i(21,"Efectivo:"),n(),t(22,"td"),i(23),c(24,"currency"),n(),t(25,"td"),i(26,"Efectivo:"),n(),t(27,"td"),i(28),c(29,"currency"),n()(),t(30,"tr")(31,"td"),i(32,"Tarjeta:"),n(),t(33,"td"),i(34),c(35,"currency"),n(),t(36,"td"),i(37,"Tarjeta:"),n(),t(38,"td"),i(39),c(40,"currency"),n()(),t(41,"tr")(42,"td"),i(43,"Transferencia:"),n(),t(44,"td"),i(45),c(46,"currency"),n(),t(47,"td"),i(48,"Transferencia:"),n(),t(49,"td"),i(50),c(51,"currency"),n()(),t(52,"tr")(53,"td"),i(54,"Monedero:"),n(),t(55,"td"),i(56),c(57,"currency"),n(),t(58,"td"),i(59,"Monedero"),n(),t(60,"td"),i(61),c(62,"currency"),n()(),t(63,"tr")(64,"td",92),i(65,"Levant\xF3:"),n(),t(66,"td",90),i(67),n(),t(68,"td",92),i(69),c(70,"date"),n()()()(),t(71,"div",82)(72,"span",83),i(73," Forma de pago: "),n(),t(74,"span",84),i(75,"Efectivo:"),n(),t(76,"span",85),i(77),c(78,"number"),n(),t(79,"span",84),i(80,"Tarjeta:"),n(),t(81,"span",85),i(82),c(83,"number"),n(),t(84,"span",84),i(85,"Transferencia:"),n(),t(86,"span",85),i(87),c(88,"number"),n(),t(89,"span",84),i(90,"Monedero:"),n(),t(91,"span",85),i(92),c(93,"number"),n()()()()()),r&2){let e=p().$implicit;o(7),m("Estado: ",e.estado,""),o(2),m("Precio: ",C(10,18,e.precio),""),o(5),m("Anticipo: ",C(15,20,e.aCuenta),""),o(3),m("Resta: ",C(18,22,e.resta),""),o(6),g(C(24,24,e.formasPago.anticipo.efectivo)),o(5),g(C(29,26,e.formasPago.resta.efectivo)),o(6),g(C(35,28,e.formasPago.anticipo.tarjeta)),o(5),g(C(40,30,e.formasPago.resta.tarjeta)),o(6),g(C(46,32,e.formasPago.anticipo.transferencia)),o(5),g(C(51,34,e.formasPago.resta.transferencia)),o(6),g(C(57,36,e.formasPago.anticipo.vale)),o(5),g(C(62,38,e.formasPago.resta.vale)),o(6),g(e.usuarioPidio),o(2),m("",A(70,40,e.fechaPedido,"dd/MM/yyyy","America/Mexico_City")," "),o(8),m("$",u(78,44,e.formasPago.anticipo.efectivo+e.formasPago.resta.efectivo||0,"1.2-2"),""),o(5),m("$",u(83,47,e.formasPago.anticipo.tarjeta+e.formasPago.resta.tarjeta||0,"1.2-2"),""),o(5),m("$",u(88,50,e.formasPago.anticipo.transferencia+e.formasPago.resta.transferencia||0,"1.2-2"),""),o(5),m("$",u(93,53,e.formasPago.anticipo.vale+e.formasPago.resta.vale||0,"1.2-2"),"")}}function Pt(r,l){if(r&1){let e=y();S(0),t(1,"tr")(2,"td",67)(3,"button",70),v("click",function(){let d=x(e).$implicit,s=p(4);return f(s.toggleDetallePedido(d,s.expandedRow))}),t(4,"span"),i(5,"\u25B8"),n()()(),t(6,"td"),i(7),n(),t(8,"td"),i(9),n(),t(10,"td"),i(11),c(12,"date"),n(),t(13,"td"),i(14),n(),t(15,"td"),i(16),n(),t(17,"td",68),i(18),c(19,"number"),n(),t(20,"td",68),i(21),c(22,"number"),n(),t(23,"td",71),i(24),c(25,"number"),n(),t(26,"td",73),i(27),c(28,"number"),n(),t(29,"td",73),i(30),c(31,"number"),n(),t(32,"td",73),i(33),c(34,"number"),n(),t(35,"td",73),i(36),c(37,"number"),n()(),h(38,Rt,94,56,"tr",76),E()}if(r&2){let e=l.$implicit,a=p(4);o(4),D("open",a.subPedidoOpen[a.expandedRow]===e._id),o(3),g(e.farmacia),o(2),g(e.folio),o(2),g(u(12,15,e.fechaPedido,"dd/MM/yyyy HH:mm")||""),o(3),g(e.descripcion),o(2),g(e.estado),o(2),m("$",u(19,18,e.costo,"1.2-2"),""),o(3),m("$",u(22,21,e.precio,"1.2-2"),""),o(3),m("$",u(25,24,e.aCuenta,"1.2-2"),""),o(3),m("$",u(28,27,e.resta,"1.2-2"),""),o(3),m("$",u(31,30,e.precio-e.resta,"1.2-2")," "),o(3),m("$",u(34,33,e.precio-e.resta-e.costo,"1.2-2"),""),o(3),m(" ",e.costo>0?u(37,36,(e.precio-e.resta-e.costo)/e.costo*100,"1.0-2")+"%":"100%"," "),o(2),_("ngIf",a.subPedidoOpen[a.expandedRow]===e._id)}}function Mt(r,l){if(r&1&&(S(0),t(1,"div",64),i(2),n(),t(3,"div",65)(4,"table",66)(5,"thead")(6,"tr")(7,"th"),i(8,"Det."),n(),t(9,"th"),i(10,"Farmacia"),n(),t(11,"th"),i(12,"Folio"),n(),t(13,"th"),i(14,"F. pedido"),n(),t(15,"th"),i(16,"Descripci\xF3n"),n(),t(17,"th"),i(18,"Estado"),n(),t(19,"th"),i(20,"Costo"),n(),t(21,"th"),i(22,"Precio"),n(),t(23,"th"),i(24,"A cuenta"),n(),t(25,"th"),i(26,"Resta"),n(),t(27,"th"),i(28,"Tot. Ingreso"),n(),t(29,"th"),i(30,"Utilidad"),n(),t(31,"th"),i(32,"% Gan"),n()()(),t(33,"tbody"),h(34,Pt,39,39,"ng-container",69),n()()(),E()),r&2){let e=p(2).$implicit,a=p();o(2),m("Devoluciones de: ",e.nombre,""),o(32),_("ngForOf",a.subRows[a.expandedRow])("ngForTrackBy",a.trackPedidoBy)}}function Bt(r,l){if(r&1&&(S(0),h(1,Mt,35,3,"ng-container",27),E()),r&2){let e;p();let a=I(9),d=p();o(),_("ngIf",((e=d.subRows[d.expandedRow]==null?null:d.subRows[d.expandedRow].length)!==null&&e!==void 0?e:0)>0)("ngIfElse",a)}}function Ft(r,l){r&1&&(t(0,"div",93),i(1," Sin compras en el rango seleccionado. "),n())}function Vt(r,l){r&1&&(t(0,"div",93),i(1," Sin pedidos en el rango seleccionado. "),n())}function Dt(r,l){r&1&&(t(0,"div",93),i(1," Sin devoluciones en el rango seleccionado. "),n())}function $t(r,l){r&1&&(S(0),t(1,"div",94),i(2,"Las cancelaciones est\xE1n en construcci\xF3n"),n(),E())}function kt(r,l){r&1&&(S(0),t(1,"div",94),i(2,"Las movimientos del monedero est\xE1n en construcci\xF3n"),n(),E())}function Ot(r,l){if(r&1&&(t(0,"td",49),h(1,vt,2,2,"ng-container",62)(2,Tt,2,2,"ng-container",62)(3,Bt,2,2,"ng-container",62)(4,Ft,2,0,"ng-template",63,7,M)(6,Vt,2,0,"ng-template",63,8,M)(8,Dt,2,0,"ng-template",63,9,M)(10,$t,3,0,"ng-container",62)(11,kt,3,0,"ng-container",62),n()),r&2){let e=l.$implicit,a=p();G("colspan",a.displayedColumns.length),o(),_("ngIf",a.expandedRow===e._id+"_ventas"),o(),_("ngIf",a.expandedRow===e._id+"_pedidos"),o(),_("ngIf",a.expandedRow===e._id+"_devoluciones"),o(7),_("ngIf",a.expandedRow===e._id+"_cancelaciones"),o(),_("ngIf",a.expandedRow===e._id+"_monedero")}}function Wt(r,l){r&1&&w(0,"tr",95)}function Lt(r,l){r&1&&w(0,"tr",96)}function jt(r,l){r&1&&w(0,"tr",96)}function At(r,l){r&1&&(t(0,"div",97),i(1,` Sin resultados
`),n())}function zt(){let r=new N;return r.itemsPerPageLabel="Items por p\xE1gina:",r.nextPageLabel="Siguiente",r.previousPageLabel="Anterior",r.firstPageLabel="Primera p\xE1gina",r.lastPageLabel="\xDAltima p\xE1gina",r.getRangeLabel=(l,e,a)=>{if(a===0||e===0)return`0 de ${a}`;let d=l*e+1,s=Math.min(d+e-1,a);return`${d} \u2013 ${s} de ${a}`},r}var Le=class r{constructor(l,e){this.clienteSrv=l;this.cdr=e;this.subFetchers={ventas:(a,d)=>this.clienteSrv.ventas(a,d),pedidos:(a,d)=>this.clienteSrv.pedidos(a,d),devoluciones:(a,d)=>this.clienteSrv.devoluciones(a,d),cancelaciones:(a,d)=>this.clienteSrv.cancelaciones(a,d),monedero:(a,d)=>this.clienteSrv.monedero(a,d)}}faEdit=ce;faSave=se;faTimes=_e;faEye=pe;faPlus=ue;faWallet=me;clientes=[];filtro="";page=1;limit=20;totalDocs=0;editandoId=null;nuevoCliente={nombre:"",telefono:"",email:"",domicilio:""};expandedRow=null;subRows={};subFooter={};cargando=!1;agregando=!1;paginacion={total:0,page:1,limit:20};fechaIni="";fechaFin="";lastExpandedKey=null;displayedColumns=["nombre","telefono","email","domicilio","monedero","acciones"];dataSource=new z([]);paginator;filtroInput;nombreNuevoRef;table;flashId=null;errorMsg="";subVentaOpen={};subPedidoOpen={};subDevolucionOpen={};trackVentaBy(l,e){return e._id}trackPedidoBy(l,e){return e._id}isDetailRow=(l,e)=>{if(!this.expandedRow)return!1;let a=this.expandedRow.split("_")[0];return e&&e._id===a};trackById=(l,e)=>e?._id??l;subFetchers;toLocalISODate(l){return new Date(l.getTime()-l.getTimezoneOffset()*6e4).toISOString().slice(0,10)}setFechasPorDefecto(){let l=new Date,e=new Date(l.getFullYear(),l.getMonth(),1);this.fechaIni=this.toLocalISODate(e),this.fechaFin=this.toLocalISODate(l)}isSubEmpty(l){if(!l)return!1;let e=this.subRows[l];return Array.isArray(e)&&e.length===1&&e[0]?.__empty__===!0}getFechaFinExclusiveISO(){let l=new Date(this.fechaFin);return l.setDate(l.getDate()+1),this.toLocalISODate(l)}ngOnInit(){this.setFechasPorDefecto(),this.buscar()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}onChangeFechas(){let l=this.expandedRow;if(!l)return;let[e]=l.split("_"),a=l.endsWith("_ventas")?"ventas":l.endsWith("_pedidos")?"pedidos":l.endsWith("_devoluciones")?"devoluciones":l.endsWith("_cancelaciones")?"cancelaciones":l.endsWith("_monedero")?"monedero":null;a&&(this.subRows[l]=[],delete this.subFooter[l],this.subVentaOpen[l]=null,this.subPedidoOpen[l]=null,this.subDevolucionOpen[l]=null,this.fetchSubtabla(e,a,l))}buscar(){this.cargando=!0,this.clienteSrv.listar({q:this.filtro,page:this.page,limit:this.limit}).subscribe({next:l=>{let e=l?.rows??[],a=l?.paginacion?.total??0,d=l?.paginacion?.page??this.page,s=l?.paginacion?.limit??this.limit;this.clientes=e,this.dataSource.data=e,this.paginacion={total:a,page:d,limit:s},this.totalDocs=a,this.cargando=!1},error:l=>{this.clientes=[],this.dataSource.data=[],this.paginacion={total:0,page:1,limit:this.limit},this.totalDocs=0,this.cargando=!1}})}cambioPagina(l){let e=l.pageSize!==this.limit;this.limit=l.pageSize,this.page=e?1:l.pageIndex+1,this.expandedRow&&(delete this.subRows[this.expandedRow],delete this.subFooter[this.expandedRow],delete this.subVentaOpen[this.expandedRow],delete this.subPedidoOpen[this.expandedRow],delete this.subDevolucionOpen[this.expandedRow],this.expandedRow=null),this.buscar()}iniciarEdicion(l){this.editandoId=l._id,l._backup=H({},l)}EDITABLE_KEYS=["nombre","telefono","email","domicilio"];cancelarEdicion(l){this.EDITABLE_KEYS.forEach(e=>{Object.prototype.hasOwnProperty.call(l._backup,e)?l[e]=l._backup[e]:delete l[e]}),delete l._backup,this.editandoId=null,this.dataSource instanceof z?this.dataSource.data=[...this.dataSource.data]:this.table?.renderRows?.(),this.flashId=l._id,setTimeout(()=>this.flashId=null,1200)}guardarEdicion(l){this.clienteSrv.actualizar(l._id,{nombre:l.nombre,telefono:l.telefono,email:l.email,domicilio:l.domicilio}).subscribe(()=>{this.editandoId=null,delete l._backup})}empezarAgregar(){this.agregando=!0,this.nuevoCliente={nombre:"",telefono:"",email:"",domicilio:""},setTimeout(()=>this.nombreNuevoRef?.nativeElement?.focus(),0)}cancelarAgregar(){this.agregando=!1,this.nuevoCliente={nombre:"",telefono:"",email:"",domicilio:""}}solo10Digitos(){this.nuevoCliente.telefono=(this.nuevoCliente.telefono||"").replace(/\D/g,"").slice(0,10)}validoNuevo(){let l=(this.nuevoCliente.nombre||"").trim(),e=this.nuevoCliente.telefono||"";return!!l&&/^\d{10}$/.test(e)}agregarCliente(){this.validoNuevo()&&(this.cargando=!0,this.clienteSrv.crear({nombre:this.nuevoCliente.nombre.trim(),telefono:this.nuevoCliente.telefono}).subscribe({next:()=>{this.cargando=!1,this.cancelarAgregar(),this.page=1,this.buscar()},error:()=>{this.cargando=!1}}))}toggleSubtabla(l,e){let a=`${l._id}_${e}`;if(this.expandedRow===a){this.expandedRow=null,delete this.subRows[a],delete this.subFooter[a],delete this.subVentaOpen[a],delete this.subPedidoOpen[a],delete this.subDevolucionOpen[a],this.table?.renderRows(),this.cdr.detectChanges();return}this.expandedRow&&(delete this.subRows[this.expandedRow],delete this.subFooter[this.expandedRow],delete this.subVentaOpen[this.expandedRow],delete this.subPedidoOpen[this.expandedRow],delete this.subDevolucionOpen[this.expandedRow]),this.expandedRow=a,this.subVentaOpen[a]=null,this.subPedidoOpen[a]=null,this.subDevolucionOpen[a]=null,this.table?.renderRows(),this.cdr.detectChanges(),this.fetchSubtabla(l._id,e,a)}fetchSubtabla(l,e,a){let d=this.subFetchers[e],s={page:1,limit:20};this.fechaIni&&(s.fechaIni=this.fechaIni),this.fechaFin&&(s.fechaFin=this.getFechaFinExclusiveISO()),d(l,s).subscribe({next:b=>{let W=b?.rows??[];W.length===0?(this.subRows[a]=[],delete this.subFooter[a],this.subVentaOpen[a]=null,this.subPedidoOpen[a]=null,this.subDevolucionOpen[a]=null):(this.subRows[a]=W,this.subFooter[a]=b?.footer??null,console.log("sub tabla",W),console.log("footer"),b.footer),this.table?.renderRows(),this.cdr.detectChanges()},error:b=>{this.subRows[a]=[],delete this.subFooter[a],this.subVentaOpen[a]=null,this.subPedidoOpen[a]=null,this.subDevolucionOpen[a]=null,this.table?.renderRows(),this.cdr.detectChanges()}})}toggleDetalleVenta(l,e){this.subVentaOpen[e]===l._id?this.subVentaOpen[e]=null:this.subVentaOpen[e]=l._id,this.cdr.detectChanges()}toggleDetallePedido(l,e){this.subPedidoOpen[e]===l._id?this.subPedidoOpen[e]=null:this.subPedidoOpen[e]=l._id,this.cdr.detectChanges()}toggleDetalleDevolucion(l,e){this.subDevolucionOpen[e]===l._id?this.subDevolucionOpen[e]=null:this.subDevolucionOpen[e]=l._id,this.cdr.detectChanges()}limpiarFiltro(){this.filtro="",this.page=1,this.buscar(),setTimeout(()=>this.filtroInput?.nativeElement.focus(),0)}static \u0275fac=function(e){return new(e||r)(L(Ee),L(q))};static \u0275cmp=Q({type:r,selectors:[["app-clientes"]],viewQuery:function(e,a){if(e&1&&(B(O,5),B(Ae,5),B(ze,5),B(k,5)),e&2){let d;F(d=V())&&(a.paginator=d.first),F(d=V())&&(a.filtroInput=d.first),F(d=V())&&(a.nombreNuevoRef=d.first),F(d=V())&&(a.table=d.first)}},features:[U([{provide:N,useFactory:zt}])],decls:60,vars:26,consts:[["filtroInput",""],["nombreNuevoRef",""],["editBtns",""],["editNombre",""],["editTel",""],["editEmail",""],["editDom",""],["sinCompras",""],["sinPedidos",""],["sinDevoluciones",""],[1,"titulo",2,"text-align","center"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],["appearance","outline",1,"filtro-nombre"],["matInput","",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix","","aria-label","Limpiar filtro","class","btn-icon-chico btn-sm btn-light position-absolute top-50 end-0 translate-middle-y btn-rojo-chico","style","width: 40px; height: 40px;",3,"disabled","click",4,"ngIf"],["align","end"],[1,"fechas-movs",2,"margin-top","-1rem"],[1,"lbl"],[1,"fechas-row"],["type","date",3,"ngModelChange","change","ngModel","max"],[1,"sep"],["type","date",3,"ngModelChange","change","ngModel","min"],[1,"add-row","d-flex","items-center","gap-3","justify-end"],["appearance","outline",1,"w-56"],["matInput","","matInput","",3,"ngModelChange","keydown.enter","ngModel","disabled"],["appearance","outline",1,"w-48"],["matInput","","inputmode","numeric","maxlength","10",3,"ngModelChange","input","keydown.enter","ngModel","disabled"],[4,"ngIf","ngIfElse"],["mat-table","","multiTemplateDataRows","",1,"tabla",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","telefono"],["matColumnDef","email"],["matColumnDef","domicilio"],["matColumnDef","monedero"],["matColumnDef","acciones"],["matColumnDef","detail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","",4,"matRowDef","matRowDefColumns","matRowDefWhen"],["class","text-center text-muted py-3",4,"ngIf"],[1,"paginator-custom",3,"page","length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons"],["matSuffix","","aria-label","Limpiar filtro",1,"btn-icon-chico","btn-sm","btn-light","position-absolute","top-50","end-0","translate-middle-y","btn-rojo-chico",2,"width","40px","height","40px",3,"click","disabled"],[3,"icon"],[1,"btn-gris",2,"height","3rem",3,"click","disabled"],["matTooltip","Cancelar",1,"btn-icon-chico","btn-rojo-chico",2,"font-size","larger","height","3rem","width","3rem",3,"click","disabled"],["matTooltip","Guardar",1,"btn-icon-chico","btn-gris-chico",2,"font-size","larger","height","3rem","width","3rem",3,"click","disabled"],["mat-header-cell",""],["mat-cell",""],["matInput","",3,"ngModelChange","ngModel"],["matTooltip","Compras",1,"btn-icon-chico","btn-gris-chico",3,"click"],["matTooltip","Pedidos",1,"btn-icon-chico","btn-verde-chico",3,"click"],["matTooltip","Devoluciones de compras",1,"btn-icon-chico","btn-amarillo-chico",3,"click"],["matTooltip","Cancelaciones de pedidos",1,"btn-icon-chico","btn-rojo-chico",3,"click"],[1,"fas","fa-times"],["matTooltip","Movimientos del monedero",1,"btn-icon-chico","btn-monedero",3,"click"],[1,"fas","fa-wallet"],["matTooltip","Editar datos cliente",1,"btn-icon-chico","btn-editar",3,"click"],[1,"fas","fa-edit"],["matTooltip","Grabar cambios",1,"btn-icon-chico","btn-verde-chico",3,"click"],["matTooltip","Cancelar edici\xF3n",1,"btn-icon-chico","btn-cancelar-edicion",3,"click"],[4,"ngIf"],[1,"subtabla-vacia"],[1,"sub-title-tabla"],[1,"detalle-tabla-wrapper"],[1,"detalle-tabla"],[1,"col-det"],[1,"text-end"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-det",3,"click"],[1,"text-end","text-success"],[1,"text-end","text-muted"],[1,"text-end","text-negativo"],[1,"text-end",3,"ngClass"],[1,"text-end","fw-600"],["class","venta-detail",4,"ngIf"],[1,"venta-detail"],["colspan","12",1,"no-pad"],[1,"subdetalle"],[1,"subdetalle-tabla"],[4,"ngFor","ngForOf"],[1,"forma-pago"],[2,"margin-right","3rem","color","rgb(255, 199, 110)"],[2,"margin-right","1rem"],[1,"forma-pago-cantidad",2,"margin-right","3rem"],["class","cb",4,"ngIf"],[1,"cb"],["colspan","3",1,"text-end"],["colspan","100",1,"no-pad"],["colspan","2"],["colspan","2",1,"sub-title-tabla"],["colspan","1"],[1,"subtabla-vacia","text-center"],[2,"color","red"],["mat-header-row",""],["mat-row",""],[1,"text-center","text-muted","py-3"]],template:function(e,a){if(e&1){let d=y();t(0,"h2",10),i(1,"Mantenimiento y consultas de Clientes"),n(),t(2,"div",11)(3,"mat-form-field",12)(4,"mat-label"),i(5,"Buscar por nombre"),n(),t(6,"input",13,0),P("ngModelChange",function(b){return x(d),R(a.filtro,b)||(a.filtro=b),f(b)}),v("keyup.enter",function(){return x(d),f(a.buscar())}),n(),h(8,Ge,2,2,"button",14),t(9,"mat-hint",15),i(10,"Ingresa nombre y enter"),n()(),t(11,"div",16)(12,"label",17),i(13,"Fechas de los movimientos"),n(),t(14,"div",18)(15,"input",19),P("ngModelChange",function(b){return x(d),R(a.fechaIni,b)||(a.fechaIni=b),f(b)}),v("change",function(){return x(d),f(a.onChangeFechas())}),n(),t(16,"span",20),i(17,"\u2014"),n(),t(18,"input",21),P("ngModelChange",function(b){return x(d),R(a.fechaFin,b)||(a.fechaFin=b),f(b)}),v("change",function(){return x(d),f(a.onChangeFechas())}),n()()(),t(19,"div",22)(20,"mat-form-field",23)(21,"mat-label"),i(22,"Nombre"),n(),t(23,"input",24,1),P("ngModelChange",function(b){return x(d),R(a.nuevoCliente.nombre,b)||(a.nuevoCliente.nombre=b),f(b)}),v("keydown.enter",function(){return x(d),f(a.agregarCliente())}),n()(),t(25,"mat-form-field",25)(26,"mat-label"),i(27,"Tel\xE9fono"),n(),t(28,"input",26),P("ngModelChange",function(b){return x(d),R(a.nuevoCliente.telefono,b)||(a.nuevoCliente.telefono=b),f(b)}),v("input",function(){return x(d),f(a.solo10Digitos())})("keydown.enter",function(){return x(d),f(a.agregarCliente())}),n(),t(29,"mat-hint",15),i(30),n()(),h(31,Ue,4,2,"ng-container",27)(32,qe,5,3,"ng-template",null,2,M),n()(),t(34,"table",28),S(35,29),h(36,Ke,2,0,"th",30)(37,Xe,4,2,"td",31),E(),S(38,32),h(39,Ze,2,0,"th",30)(40,nt,4,2,"td",31),E(),S(41,33),h(42,it,2,0,"th",30)(43,rt,4,2,"td",31),E(),S(44,34),h(45,lt,2,0,"th",30)(46,mt,4,2,"td",31),E(),S(47,35),h(48,pt,2,0,"th",30)(49,st,3,4,"td",31),E(),S(50,36),h(51,ut,2,0,"th",30)(52,xt,4,2,"td",31),E(),S(53,37),h(54,Ot,12,6,"td",31),E(),h(55,Wt,1,0,"tr",38)(56,Lt,1,0,"tr",39)(57,jt,1,0,"tr",40),n(),h(58,At,2,0,"div",41),t(59,"mat-paginator",42),v("page",function(b){return x(d),f(a.cambioPagina(b))}),n()}if(e&2){let d=I(33);o(6),T("ngModel",a.filtro),o(2),_("ngIf",a.filtro),o(7),T("ngModel",a.fechaIni),_("max",a.fechaFin),o(3),T("ngModel",a.fechaFin),_("min",a.fechaIni),o(5),T("ngModel",a.nuevoCliente.nombre),_("disabled",!a.agregando||a.cargando),o(5),T("ngModel",a.nuevoCliente.telefono),_("disabled",!a.agregando||a.cargando),o(2),m("",(a.nuevoCliente.telefono||"").length,"/10"),o(),_("ngIf",!a.agregando)("ngIfElse",d),o(3),_("dataSource",a.dataSource),o(21),_("matHeaderRowDef",a.displayedColumns),o(),_("matRowDefColumns",a.displayedColumns),o(),_("matRowDefColumns",$(24,Ne))("matRowDefWhen",a.isDetailRow),o(),_("ngIf",!a.cargando&&(!a.dataSource||(a.dataSource.data==null?null:a.dataSource.data.length)===0)),o(),_("length",a.paginacion.total||0)("pageSize",a.limit)("pageIndex",a.page-1)("pageSizeOptions",$(25,He))("showFirstLastButtons",!0)}},dependencies:[te,K,Y,J,Z,ee,X,re,ne,ie,oe,ae,ke,k,Re,Fe,Pe,Te,Ve,Me,Be,De,$e,We,O,be,he,ge,xe,fe,Se,Ce,Oe,Ie,ye,de,le,we,ve],styles:[`.tabla{width:100%}.subtabla-vacia{color:red!important}.sub-row{background:#f9f9f9}.mat-form-field{min-width:160px}.btn-monedero{font-size:small;font-weight:400;padding:3px;border-radius:6px;background:linear-gradient(45deg,#fc7813,#fcd30a);color:#00f}.btn-monedero:hover{background:linear-gradient(45deg,#a7f944,#fc7813);box-shadow:0 4px 8px #ffcc0080;color:#fff}.btn-monedero:disabled{cursor:not-allowed;opacity:.6}.btn-monedero[disabled]:hover{background:linear-gradient(45deg,#a7f944,#fc7813);box-shadow:none;color:#000}.btn-editar{font-size:small;font-weight:400;padding:3px;border-radius:6px;background:linear-gradient(45deg,#fcd30a,#13fc1f);color:#333131}.btn-editar:hover{background:linear-gradient(45deg,#13fc1f,#fcd30a);box-shadow:0 4px 8px #ffcc0080;color:red}.btn-editar:disabled{cursor:not-allowed;opacity:.6}.btn-editar[disabled]:hover{background:linear-gradient(45deg,#a7f944,#fc7813);box-shadow:none;color:#000}.btn-cancelar-edicion{font-size:small;font-weight:400;padding:3px;border-radius:6px;background:linear-gradient(45deg,orange,red);color:#00f}.btn-cancelar-edicion:hover{background:linear-gradient(45deg,red,orange);box-shadow:0 4px 8px #a8870180;color:#fff}.btn-cancelar-edicion:disabled{cursor:not-allowed;opacity:.6}.btn-cancelar-edicion[disabled]:hover{background:gray;box-shadow:none;color:#000}.paginator-custom .mat-mdc-paginator{background:#f5fbff;box-shadow:0 2px 6px #0000000f}.restore-flash td{animation:flashRestore 1.2s ease-out}.forma-pago{padding:4px;background:#2e04fe!important;text-align:center;font-size:large;color:#fff}.forma-pago-cantidad{color:#e1fcc0}@keyframes flashRestore{0%{background:#fff7cc}30%{background:#ffef99}to{background:transparent}}.paginator-custom .mat-mdc-paginator-container,.paginator-custom .mat-mdc-paginator-page-size,.paginator-custom .mat-mdc-paginator-range-actions{display:flex;align-items:center;gap:4px}.paginator-custom .mat-mdc-paginator-page-size-label,.paginator-custom .mat-mdc-paginator-range-label{font-size:1.3rem;color:#8a2be2;line-height:1}.paginator-custom .mat-mdc-icon-button{width:3.25rem;height:3.25rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:background .15s ease,transform .05s}.paginator-custom .mat-mdc-icon-button:hover{background:#8a2be2}.paginator-custom .mat-mdc-icon-button:active{transform:translateY(1px)}.paginator-custom .mat-mdc-paginator-icon{fill:#0ff;width:3.25rem;height:3.25rem}.paginator-custom .mat-mdc-paginator-range-actions .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:#cbd5e1}.paginator-custom{background-color:#fbdddd}.paginator-custom .mat-mdc-paginator-page-size .mat-mdc-select-trigger,.paginator-custom .mat-mdc-paginator-page-size .mat-mdc-select-value-text{font-size:1.3rem;color:#8a2be2;line-height:1.1}
`],encapsulation:2})};export{Le as ClientesComponent,zt as paginatorEs};
